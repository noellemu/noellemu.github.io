---
title: 死锁产生的条件及预防方法
date: 2022-11-25 00:20:12
tags:
- Operating System
categories:
- Operating System
- Interview
---

## 死锁产生的条件

死锁的产生一共有四个条件：

1. **互斥条件**：一个资源同一段时间内只能为一个进程所用。
2. **请求和保持条件**：当进程因请求资源而阻塞时，对已经持有的资源保持不放。
3. **不剥夺条件**：进程获得的资源在使用完毕前不能剥夺，必须由进程主动释放。
4. **环路等待条件**：在发生死锁的时候必定存在一个进程-资源的环形链。

## 预防死锁的方法

破坏死锁产生的四个条件中的任意一个即可预防死锁的产生。

1. **破坏互斥条件**：把互斥资源变为共享资源，例如共享打印机技术等。
2. **破坏请求和保持资源**：可以一次性分配所有资源，也可以当某个进程得不到某项资源时，也不给它分配其他资源。
3. **破坏不剥夺条件**：当某个进程获得了一部分资源但得不到其他资源时，则释放这个进程已经占有的资源。
4. **破坏环路等待条件**：系统给每类资源赋予一个编号，进程在请求资源时需要按照编号从大到小的方式请求，释放时则相反。
